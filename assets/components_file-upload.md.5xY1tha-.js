import{ref as o,openBlock as d,createElementBlock as n,createVNode as e,unref as r,createElementVNode as s,toDisplayString as k,defineComponent as E,resolveComponent as c,createTextVNode as l,withCtx as u,createStaticVNode as g}from"vue";import{b as y}from"./chunks/index.Bsl83GW6.js";import"element-plus";import{_ as f}from"./chunks/framework.Bqqnzvok.js";import"@element-plus/icons-vue";const B={class:"demo-upload"},m={style:{"margin-top":"20px"}},F={__name:"file-upload-basic",setup(p){const t=o("");return(i,a)=>(d(),n("div",B,[e(r(y),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=h=>t.value=h),action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",limit:3,"file-size":2,"file-type":["png","jpg","jpeg","pdf"]},null,8,["modelValue"]),s("div",m,"绑定值: "+k(t.value),1)]))}},A=f(F,[["__scopeId","data-v-faf9f387"]]),x=JSON.parse('{"title":"FileUpload 文件上传","description":"文件上传组件,支持多种文件类型和自动解析响应","frontmatter":{"title":"FileUpload 文件上传","description":"文件上传组件,支持多种文件类型和自动解析响应"},"headers":[],"relativePath":"components/file-upload.md","filePath":"components/file-upload.md","lastUpdated":1770042796000}'),b={name:"components/file-upload.md"},U=E({...b,setup(p){return(t,i)=>{const a=c("demo-preview");return d(),n("div",null,[i[0]||(i[0]=s("h1",{id:"fileupload-文件上传",tabindex:"-1"},[l("FileUpload 文件上传 "),s("a",{class:"header-anchor",href:"#fileupload-文件上传","aria-label":"Permalink to “FileUpload 文件上传”"},"​")],-1)),i[1]||(i[1]=s("p",null,"EasyFileUpload 是一个基于 Element Plus Upload 组件封装的文件上传组件。它简化了上传逻辑，支持文件类型和大小校验，并能自动从后端响应中提取文件链接。",-1)),i[2]||(i[2]=s("h2",{id:"在线演示",tabindex:"-1"},[l("在线演示 "),s("a",{class:"header-anchor",href:"#在线演示","aria-label":"Permalink to “在线演示”"},"​")],-1)),e(a,{title:"FileUpload 基础示例",description:"展示文件上传的基本功能，包括类型校验和数量限制",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%20class=%22demo-upload%22%3E%0A%20%20%20%20%3Ceasy-file-upload%0A%20%20%20%20%20%20v-model=%22fileList%22%0A%20%20%20%20%20%20action=%22https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15%22%0A%20%20%20%20%20%20:limit=%223%22%0A%20%20%20%20%20%20:file-size=%222%22%0A%20%20%20%20%20%20:file-type=%22%5B'png',%20'jpg',%20'jpeg',%20'pdf'%5D%22%0A%20%20%20%20/%3E%0A%20%20%20%20%3Cdiv%20style=%22margin-top:%2020px%22%3E%E7%BB%91%E5%AE%9A%E5%80%BC:%20%7B%7B%20fileList%20%7D%7D%3C/div%3E%0A%20%20%3C/div%3E%0A%3C/template%3E%0A%0A%3Cscript%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20%22vue%22%0Aimport%20%7B%20EasyFileUpload%20%7D%20from%20%22easy-elplus%22%0A%0Aconst%20fileList%20=%20ref(%22%22)%0A%3C/script%3E%0A%0A%3Cstyle%20scoped%3E%0A.demo-upload%20%7B%0A%20%20width:%20100%25;%0A%7D%0A%3C/style%3E%0A",showCode:"%3Cpre%3E%3C!--%3A%3Amarkdown-it-async%3A%3A2lc45f4w1ty3kfaf4xs6ca%3A%3A--%3E%3Ccode%3E%26lt%3Btemplate%26gt%3B%0A%20%20%26lt%3Bdiv%20class%3D%26quot%3Bdemo-upload%26quot%3B%26gt%3B%0A%20%20%20%20%26lt%3Beasy-file-upload%0A%20%20%20%20%20%20v-model%3D%26quot%3BfileList%26quot%3B%0A%20%20%20%20%20%20action%3D%26quot%3Bhttps%3A%2F%2Frun.mocky.io%2Fv3%2F9d059bf9-4660-45f2-925d-ce80ad6c4d15%26quot%3B%0A%20%20%20%20%20%20%3Alimit%3D%26quot%3B3%26quot%3B%0A%20%20%20%20%20%20%3Afile-size%3D%26quot%3B2%26quot%3B%0A%20%20%20%20%20%20%3Afile-type%3D%26quot%3B%5B%26%23039%3Bpng%26%23039%3B%2C%20%26%23039%3Bjpg%26%23039%3B%2C%20%26%23039%3Bjpeg%26%23039%3B%2C%20%26%23039%3Bpdf%26%23039%3B%5D%26quot%3B%0A%20%20%20%20%2F%26gt%3B%0A%20%20%20%20%26lt%3Bdiv%20style%3D%26quot%3Bmargin-top%3A%2020px%26quot%3B%26gt%3B%E7%BB%91%E5%AE%9A%E5%80%BC%3A%20%7B%7B%20fileList%20%7D%7D%26lt%3B%2Fdiv%26gt%3B%0A%20%20%26lt%3B%2Fdiv%26gt%3B%0A%26lt%3B%2Ftemplate%26gt%3B%0A%0A%26lt%3Bscript%20setup%26gt%3B%0Aimport%20%7B%20ref%20%7D%20from%20%26quot%3Bvue%26quot%3B%0Aimport%20%7B%20EasyFileUpload%20%7D%20from%20%26quot%3Beasy-elplus%26quot%3B%0A%0Aconst%20fileList%20%3D%20ref(%26quot%3B%26quot%3B)%0A%26lt%3B%2Fscript%26gt%3B%0A%0A%26lt%3Bstyle%20scoped%26gt%3B%0A.demo-upload%20%7B%0A%20%20width%3A%20100%25%3B%0A%7D%0A%26lt%3B%2Fstyle%26gt%3B%3C%2Fcode%3E%3C%2Fpre%3E",suffixName:"vue",absolutePath:"/home/runner/work/easy-elplus/easy-elplus/docs/demo/file-upload-basic.vue",relativePath:"../demo/file-upload-basic.vue"},{default:u(()=>[e(A)]),_:1}),i[3]||(i[3]=g(`<h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to “基础用法”">​</a></h2><p>通过 <code>v-model</code> 绑定文件地址，支持逗号分隔的字符串。</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">easy-file-upload</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fileUrl&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/upload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { EasyFileUpload } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;easy-elplus&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fileUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="限制文件类型和大小" tabindex="-1">限制文件类型和大小 <a class="header-anchor" href="#限制文件类型和大小" aria-label="Permalink to “限制文件类型和大小”">​</a></h2><p>可以通过 <code>file-type</code> 限制允许的文件扩展名，<code>file-size</code> 限制单个文件大小（MB）。</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">easy-file-upload</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fileUrl&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/upload&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :file-type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[&#39;pdf&#39;, &#39;doc&#39;, &#39;docx&#39;]&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :file-size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="自定义响应解析" tabindex="-1">自定义响应解析 <a class="header-anchor" href="#自定义响应解析" aria-label="Permalink to “自定义响应解析”">​</a></h2><p>如果后端返回的数据结构比较复杂，可以使用 <code>response-path</code> 指定文件链接所在的路径。</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">easy-file-upload</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fileUrl&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/upload&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> response-path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;data.url&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> error-field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to “API”">​</a></h2><h3 id="attributes" tabindex="-1">Attributes <a class="header-anchor" href="#attributes" aria-label="Permalink to “Attributes”">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>v-model</td><td>绑定值，支持逗号分隔的字符串、对象或数组</td><td><code>String / Object / Array</code></td><td>—</td></tr><tr><td>action</td><td>上传地址（必传）</td><td><code>String</code></td><td>—</td></tr><tr><td>limit</td><td>最大上传数量</td><td><code>Number</code></td><td>5</td></tr><tr><td>file-size</td><td>文件大小限制 (MB)</td><td><code>Number</code></td><td>5</td></tr><tr><td>file-type</td><td>允许的文件类型后缀</td><td><code>Array</code></td><td><code>[&quot;doc&quot;, &quot;xls&quot;, &quot;ppt&quot;, &quot;txt&quot;, &quot;pdf&quot;]</code></td></tr><tr><td>is-show-tip</td><td>是否显示上传提示信息</td><td><code>Boolean</code></td><td>true</td></tr><tr><td>headers</td><td>设置上传的请求头部</td><td><code>Object</code></td><td><code>{}</code></td></tr><tr><td>base-url</td><td>基础路径。上传成功后保存时会尝试去除该前缀；回显时如果不是绝对路径会拼接该前缀</td><td><code>String</code></td><td>&quot;&quot;</td></tr><tr><td>check-success</td><td>自定义成功校验函数，接受响应对象作为参数</td><td><code>Function</code></td><td><code>res =&gt; res.code === 200 || res.success === true</code></td></tr><tr><td>response-path</td><td>响应中文件地址所在的路径，支持深层嵌套（如 <code>data.url</code>）</td><td><code>String</code></td><td>&quot;data&quot;</td></tr><tr><td>error-field</td><td>响应中错误消息所在的路径</td><td><code>String</code></td><td>&quot;msg&quot;</td></tr></tbody></table><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to “Events”">​</a></h3><table tabindex="0"><thead><tr><th>事件名</th><th>说明</th><th>回调参数</th></tr></thead><tbody><tr><td>update:modelValue</td><td>绑定值变化时触发</td><td><code>(value: string)</code></td></tr></tbody></table><h2 id="特性说明" tabindex="-1">特性说明 <a class="header-anchor" href="#特性说明" aria-label="Permalink to “特性说明”">​</a></h2><ol><li><strong>自动提取 URL</strong>: 无需手动处理 <code>on-success</code>，只需通过 <code>response-path</code> 配置即可。</li><li><strong>多文件支持</strong>: 内置多文件上传支持，通过 <code>limit</code> 控制数量。</li><li><strong>格式校验</strong>: 自动根据 <code>file-type</code> 进行后缀名匹配。</li><li><strong>路径处理</strong>: 通过 <code>base-url</code> 方便地处理图片服务器前缀。</li></ol>`,16))])}}});export{x as __pageData,U as default};
