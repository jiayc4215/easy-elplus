import{o as re,E as J,j as ue,k as de,l as Y,m as H,n as ce,p as fe,q as pe,r as me,s as ye,t as ge,u as he,w as le,b as ve,a as V,x as be,y as Z,z as ke}from"./theme.DtQdlYOX.js";import{a4 as we,o as r,b as k,w as y,r as q,O as U,k as m,y as C,I as Se,aH as K,b8 as ae,K as G,b9 as se,h as N,c as g,G as S,H as A,az as ie,a as w,t as _,_ as W,a3 as Te,z as X,j as O,J as b,e as E,a2 as Ce,Q as xe,n as Ee,aO as $e}from"./framework.DeSH-kZ8.js";const ze=t=>typeof t>"u",Ue=t=>typeof t=="number"&&!Number.isNaN(t),j=t=>typeof t=="string",B=t=>typeof t=="function",ee=t=>t!==null&&typeof t=="object",Q=(t,f)=>(t.install=l=>{const u=[t];for(const o of u)o.name?l.component(o.name,o):console.warn("Component missing name:",o)},t),Ve=Object.assign({inheritAttrs:!1,name:"EasyButton"},{__name:"button",setup(t){const f=C(!1),l=we(),u=async()=>{try{f.value=!0,B(l.onClick)&&await l.onClick()}finally{f.value=!1}};return(o,h)=>(r(),k(m(J),U({loading:f.value},m(re)(m(l),"onClick"),{onClick:u}),{default:y(()=>[q(o.$slots,"default")]),_:3},16,["loading"]))}}),rt=Q(Ve);function Oe(){return{getComponent:(f,l)=>{if(f&&!j(f)&&!Ue(f))return B(f)?f(l):f;const u=f;let o;return j(u)&&u.startsWith("el-")&&(o=Se(u)),o&&!j(o)?o:{name:"DynamicText",props:["modelValue"],render(){if(!l)return K("span",{},u);const d=this.modelValue===null||this.modelValue===""||this.modelValue===void 0?"--":this.modelValue;return K("span",{},d)}}}}}const te=Object.assign({name:"EasyDescriptionsComp"},{__name:"comp",props:se({id:{type:String,default:""},components:{type:[String,Number,Function,Object],default:""},props:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const f=t,l=ae(t,"modelValue"),{getComponent:u}=Oe(),o=N(()=>f.id?u(f.components,l.value):u(f.components)),h=N(()=>f.id?{modelValue:l.value[f.id]}:{});return(d,p)=>q(d.$slots,t.components,{},()=>[(r(),k(G(o.value),U({...h.value,...t.props},{"onUpdate:modelValue":p[0]||(p[0]=i=>t.id&&(l.value[t.id]=i))}),null,16))])}}),_e={class:"epl-descriptions"},je=Object.assign({name:"EasyDescriptions"},{__name:"descriptions",props:se({items:{type:Array,default:()=>[]}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t,{expose:f}){const l=t,u=ae(t,"modelValue"),o=d=>d.reduce((p,i)=>((B(i.hidden)?i.hidden(u.value):i.hidden)||p.push({...i,label:ee(i.label)?i.label:{components:i.label},value:ee(i.value)?i.value:{id:i.value,components:i.value}}),p),[]),h=N(()=>!l.items||l.items.length===0?[]:l.items.some(p=>p.items&&Array.isArray(p.items))?l.items.filter(p=>!(B(p.hidden)?p.hidden(u.value):p.hidden)).map(p=>{const{extra:i,items:T,hidden:x,...$}=p;return{...p,rows:o(p.items),bindProps:$}}):[{rows:o(l.items),bindProps:{}}]);return f({}),(d,p)=>(r(),g("div",_e,[(r(!0),g(S,null,A(h.value,(i,T)=>(r(),k(m(de),U({key:T,ref_for:!0},{...d.$attrs,...i.bindProps},{style:{"margin-bottom":"20px"}}),ie({default:y(()=>[(r(!0),g(S,null,A(i.rows,x=>(r(),k(m(ue),U({key:x.label},{ref_for:!0},x),{label:y(()=>[(r(),k(G(K(te,{modelValue:u.value,...x.label},d.$slots))))]),default:y(()=>[(r(),k(G(K(te,{modelValue:u.value,...x.value},d.$slots))))]),_:2},1040))),128))]),_:2},[i.title||d.$slots.title?{name:"title",fn:y(()=>[i.title?(r(),g(S,{key:0},[w(_(i.title),1)],64)):q(d.$slots,"title",{key:1,group:i,index:T})]),key:"0"}:void 0,i.extra||d.$slots.extra?{name:"extra",fn:y(()=>[i.extra?(r(),g(S,{key:0},[w(_(i.extra),1)],64)):q(d.$slots,"extra",{key:1,group:i,index:T})]),key:"1"}:void 0]),1040))),128))]))}}),ut=Q(je);Math.easeInOutQuad=function(t,f,l,u){return t/=u/2,t<1?l/2*t*t+f:(t--,-l/2*(t*(t-2)-1)+f)};var De=(function(){return typeof window>"u"?function(t){setTimeout(t,1e3/60)}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}})();function Ne(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function Ie(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function ne(t,f,l){const u=Ie(),o=t-u,h=20;let d=0;f=ze(f)?500:f;var p=function(){d+=h;var i=Math.easeInOutQuad(d,u,o,f);Ne(i),d<f&&De(p)};p()}const Me={class:"table-container"},Ae={class:"table"},Fe={key:0},Be=["innerHTML"],Pe=["innerHTML"],Le={key:2},Re={class:"operate-group"},He=Object.assign({name:"EasyTable"},{__name:"table",props:{columns:{type:Array,default:()=>[]},tableData:{type:Array,default:()=>[]},total:{type:Number,default:0},page:{type:Number,default:1},options:{type:Object,default:()=>({stripe:!1,highlightCurrentRow:!1,border:!0})},limit:{type:Number,default:20},pageSizes:{type:Array,default:()=>[10,20,30,50]},pagerCount:{type:Number,default:()=>typeof document<"u"&&document.body.clientWidth<992?5:7},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1},operates:{type:Object,default:()=>({list:[]})},paginationPosition:{type:String,default:"right"}},emits:["update:page","update:limit","pagination","sortChange","handleSelectionChange"],setup(t,{expose:f,emit:l}){const u=t,o=l,h=Te(),d=C(null),p=C([]);X(()=>[u.columns,h],()=>{p.value=u.columns.map(c=>{const a={...c};return a.key||(a.key=a.prop),Object.keys(h).forEach(e=>{const n=e.match(/^(\S+)-(\S+)/);n&&n[2]===a.key&&(a.slot={...a.slot,[n[1]]:n[0]})}),a})},{immediate:!0,deep:!0});const i=c=>{const a=c?.label?.length||0;return Math.max(a*20,100)},T=c=>B(c.show)?c.show():c.show!==!1,x=(c,a)=>B(c.render)?c.render(a):c.render,$=c=>{const a=(u.operates?.list||[]).filter(e=>B(e.show)?e.show(c):e.show!==!1);return a.length>3?{outside:a.slice(0,2),inside:a.slice(2)}:{outside:a,inside:[]}},z=N({get:()=>u.page,set:c=>o("update:page",c)}),I=N({get:()=>u.limit,set:c=>o("update:limit",c)}),P=N(()=>({left:"flex-start",center:"center",right:"flex-end"})[u.paginationPosition]||"flex-end"),L=c=>{z.value*c>u.total&&(z.value=1),o("pagination",{page:z.value,limit:c}),u.autoScroll&&ne(0,800)},M=c=>{o("pagination",{page:c,limit:I.value}),u.autoScroll&&ne(0,800)},D=c=>o("sortChange",c),R=c=>o("handleSelectionChange",c);return f({iTableRef:d}),(c,a)=>(r(),g("div",Me,[O("div",Ae,[b(m(ye),U({id:"iTable",ref_key:"iTableRef",ref:d,data:t.tableData},t.options,{height:"100%",style:{width:"100%"},onSortChange:D,onSelectionChange:R}),{default:y(()=>[(r(!0),g(S,null,A(p.value,(e,n)=>(r(),g(S,{key:n+(e.prop||"")},[T(e)?(r(),k(m(Y),U({key:0,"min-width":i(e)},{ref_for:!0},e),ie({_:2},[A(e.slot,(s,v)=>({name:v,fn:y(oe=>[q(c.$slots,s,U({ref_for:!0},oe),void 0,!0)])})),e.slot?void 0:{name:"default",fn:y(s=>[e.render?(r(),g(S,{key:0},[m(j)(x(e,s))?(r(),g("div",Fe,[O("div",{innerHTML:x(e,s)},null,8,Be)])):(r(),k(G(e.render),U({key:1,ref_for:!0},s,{row:s.row,index:s.$index}),null,16,["row","index"]))],64)):e.formatter?(r(),g("span",{key:1,innerHTML:e.formatter(s.row,e)},null,8,Pe)):e.type?E("",!0):(r(),g("span",Le,_(s.row[e.prop]??"--"),1))]),key:"0"}]),1040,["min-width"])):E("",!0)],64))),128)),t.operates.list?.length?(r(),k(m(Y),{key:0,label:"操作",align:"left",width:t.operates.width,fixed:t.operates.fixed},{default:y(e=>[O("div",Re,[(r(!0),g(S,null,A($(e.row).outside,(n,s)=>(r(),k(m(J),U({key:s,ref_for:!0},n,{type:n.type||"primary",size:n.size||"small",onClick:Ce(v=>n.method(e.row,e.$index),["stop"])}),{default:y(()=>[w(_(n.label)+" ",1),n.icon?(r(),k(m(H),{key:0,class:"el-icon--right"},{default:y(()=>[(r(),k(G(n.icon)))]),_:2},1024)):E("",!0)]),_:2},1040,["type","size","onClick"]))),128)),$(e.row).inside.length?(r(),k(m(ce),{key:0,class:"custom-dropdown",trigger:"click"},{dropdown:y(()=>[b(m(pe),null,{default:y(()=>[(r(!0),g(S,null,A($(e.row).inside,(n,s)=>(r(),k(m(me),U({key:s},{ref_for:!0},n,{onClick:v=>n.method(e.row,e.$index)}),{default:y(()=>[w(_(n.label),1)]),_:2},1040,["onClick"]))),128))]),_:2},1024)]),default:y(()=>[b(m(J),{link:"",size:"small",class:"custom-text"},{default:y(()=>[b(m(H),{size:18},{default:y(()=>[b(m(fe))]),_:1})]),_:1})]),_:2},1024)):E("",!0)])]),_:1},8,["width","fixed"])):E("",!0)]),_:3},16,["data"])]),t.hidden?E("",!0):(r(),g("div",{key:0,class:"pagination-container",style:xe({justifyContent:P.value})},[b(m(ge),{"current-page":z.value,"onUpdate:currentPage":a[0]||(a[0]=e=>z.value=e),"page-size":I.value,"onUpdate:pageSize":a[1]||(a[1]=e=>I.value=e),background:t.background,layout:t.layout,"page-sizes":t.pageSizes,"pager-count":t.pagerCount,total:t.total,onSizeChange:L,onCurrentChange:M},null,8,["current-page","page-size","background","layout","page-sizes","pager-count","total"])],4))]))}}),qe=W(He,[["__scopeId","data-v-1f59e4aa"]]),dt=Q(qe),F="update:modelValue",Ge={class:"component-upload-image"},Qe={key:0,class:"el-upload__tip"},Je={style:{color:"#f56c6c"}},Ke={style:{color:"#f56c6c"}},We=["src"],Xe=Object.assign({name:"EasyImageUpload"},{__name:"ImageUpload",props:{modelValue:[String,Object,Array],limit:{type:Number,default:5},fileSize:{type:Number,default:5},fileType:{type:Array,default:()=>["png","jpg","jpeg"]},isShowTip:{type:Boolean,default:!0},action:{type:String,required:!0},headers:{type:Object,default:()=>({})},baseUrl:{type:String,default:""},checkSuccess:{type:Function,default:t=>t.code===200||t.success===!0},responsePath:{type:String,default:"data"},errorField:{type:String,default:"msg"}},emits:[F],setup(t,{emit:f}){const l=t,u=f,o=C(0),h=C([]),d=C(""),p=C(!1),i=C([]),T=C(null),x=N(()=>l.isShowTip&&(l.fileType||l.fileSize)),$=(e,n)=>n?n.split(".").reduce((s,v)=>s&&s[v]!==void 0?s[v]:void 0,e):e;X(()=>l.modelValue,e=>{if(e){const n=Array.isArray(e)?e:e.split(",");i.value=n.map(s=>{if(j(s)){let v=s;!/^https?:\/\//.test(v)&&l.baseUrl&&(v=l.baseUrl+s),s={name:c(s),url:v}}return s})}else i.value=[]},{deep:!0,immediate:!0});function z(e){let n=!1;if(l.fileType.length){const s=e.name.slice(e.name.lastIndexOf(".")+1).toLowerCase();n=l.fileType.map(v=>v.toLowerCase()).includes(s)}else n=e.type.indexOf("image")>-1;return n?l.fileSize&&e.size/1024/1024>l.fileSize?(V.error(`大小不能超过 ${l.fileSize} MB!`),!1):(o.value++,!0):(V.error(`格式不正确, 请上传${l.fileType.join("/")}图片!`),!1)}function I(){V.error(`上传数量不能超过 ${l.limit} 个!`)}function P(e,n){if(l.checkSuccess(e)){const s=$(e,l.responsePath);s?(h.value.push({name:c(s),url:s}),M()):D(`无法从响应中解析图片路径: ${l.responsePath}`)}else{o.value--;const s=$(e,l.errorField)||"上传失败";V.error(s),T.value.handleRemove(n),M()}}function L(e){const n=i.value.findIndex(s=>s.name===e.name);n>-1&&(i.value.splice(n,1),u(F,a(i.value)))}function M(){o.value>0&&h.value.length===o.value&&(i.value=i.value.filter(e=>e.url!==void 0).concat(h.value),h.value=[],o.value=0,u(F,a(i.value)))}function D(e){V.error(j(e)?e:"上传图片失败"),o.value--}function R(e){d.value=e.url,p.value=!0}function c(e){return j(e)?e.slice(e.lastIndexOf("/")+1):""}function a(e,n=","){return e.filter(s=>s.url&&s.url.indexOf("blob:")!==0).map(s=>{let v=s.url;return l.baseUrl&&v.indexOf(l.baseUrl)===0&&(v=v.replace(l.baseUrl,"")),v}).join(n)}return(e,n)=>(r(),g("div",Ge,[b(m(le),{ref_key:"imageUploadRef",ref:T,multiple:"",action:t.action,"list-type":"picture-card","on-success":P,"before-upload":z,limit:t.limit,"on-error":D,"on-exceed":I,"on-remove":L,"show-file-list":!0,headers:t.headers,"file-list":i.value,"on-preview":R,class:Ee({hide:i.value.length>=t.limit})},{default:y(()=>[b(m(H),{class:"avatar-uploader-icon"},{default:y(()=>[b(m(he))]),_:1})]),_:1},8,["action","limit","headers","file-list","class"]),x.value?(r(),g("div",Qe,[n[3]||(n[3]=w(" 请上传 ",-1)),t.fileSize?(r(),g(S,{key:0},[n[1]||(n[1]=w(" 大小不超过 ",-1)),O("b",Je,_(t.fileSize)+"MB",1)],64)):E("",!0),t.fileType?(r(),g(S,{key:1},[n[2]||(n[2]=w(" 格式为 ",-1)),O("b",Ke,_(t.fileType.join("/")),1)],64)):E("",!0),n[4]||(n[4]=w(" 的文件 ",-1))])):E("",!0),b(m(ve),{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=s=>p.value=s),title:"预览",width:"800px","append-to-body":""},{default:y(()=>[O("img",{src:d.value,style:{display:"block","max-width":"100%",margin:"0 auto"}},null,8,We)]),_:1},8,["modelValue"])]))}}),Ye=W(Xe,[["__scopeId","data-v-ff82c22d"]]),ct=Q(Ye),Ze={class:"component-upload-file"},et={key:0,class:"el-upload__tip"},tt={style:{color:"#f56c6c"}},nt={style:{color:"#f56c6c"}},lt={class:"ele-upload-list__item-content-action"},at=Object.assign({name:"EasyFileUpload"},{__name:"FileUpload",props:{modelValue:[String,Object,Array],limit:{type:Number,default:5},fileSize:{type:Number,default:5},fileType:{type:Array,default:()=>["doc","xls","ppt","txt","pdf"]},isShowTip:{type:Boolean,default:!0},action:{type:String,required:!0},headers:{type:Object,default:()=>({})},baseUrl:{type:String,default:""},checkSuccess:{type:Function,default:t=>t.code===200||t.success===!0},responsePath:{type:String,default:"data"},errorField:{type:String,default:"msg"}},emits:[F],setup(t,{emit:f}){const l=t,u=f,o=C(0),h=C([]),d=C([]),p=C(null),i=N(()=>l.isShowTip&&(l.fileType||l.fileSize)),T=(a,e)=>e?e.split(".").reduce((n,s)=>n&&n[s]!==void 0?n[s]:void 0,a):a;X(()=>l.modelValue,a=>{if(a){const e=Array.isArray(a)?a:a.split(",");d.value=e.map((n,s)=>(j(n)&&(n={name:D(n),url:n,uid:new Date().getTime()+s}),n))}else d.value=[]},{deep:!0,immediate:!0});function x(a){if(l.fileType&&l.fileType.length){const e=a.name.split("."),n=e[e.length-1].toLowerCase();if(!l.fileType.map(v=>v.toLowerCase()).includes(n))return V.error(`文件格式不正确, 请上传${l.fileType.join("/")}格式文件!`),!1}return l.fileSize&&a.size/1024/1024>l.fileSize?(V.error(`上传文件大小不能超过 ${l.fileSize} MB!`),!1):(o.value++,!0)}function $(){V.error(`上传文件数量不能超过 ${l.limit} 个!`)}function z(a){o.value--,V.error(j(a)?a:"上传文件失败")}function I(a,e){if(l.checkSuccess(a)){const n=T(a,l.responsePath);n?(h.value.push({name:D(n),url:n,uid:e.uid}),M()):z(`无法从响应中解析文件路径: ${l.responsePath}`)}else{o.value--;const n=T(a,l.errorField)||"上传失败";V.error(n),p.value?.handleRemove(e),M()}}function P(a){d.value.splice(a,1),u(F,c(d.value))}function L(a){const e=d.value.findIndex(n=>n.uid===a.uid);e>-1&&(d.value.splice(e,1),u(F,c(d.value)))}function M(){o.value>0&&h.value.length===o.value&&(d.value=d.value.filter(a=>a.url!==void 0).concat(h.value),h.value=[],o.value=0,u(F,c(d.value)))}function D(a){return j(a)?a.slice(a.lastIndexOf("/")+1):""}function R(a){return a?/^https?:\/\//.test(a)?a:l.baseUrl?l.baseUrl+a:a:""}function c(a,e=","){return a.filter(n=>n.url&&n.url.indexOf("blob:")!==0).map(n=>{let s=n.url;return l.baseUrl&&s.indexOf(l.baseUrl)===0&&(s=s.replace(l.baseUrl,"")),s}).join(e)}return(a,e)=>(r(),g("div",Ze,[b(m(le),{ref_key:"fileUploadRef",ref:p,multiple:"",action:t.action,"before-upload":x,"file-list":d.value,limit:t.limit,"on-error":z,"on-exceed":$,"on-success":I,"on-remove":L,"show-file-list":!1,headers:t.headers,class:"upload-file-uploader"},{default:y(()=>[b(m(J),{type:"primary"},{default:y(()=>[b(m(H),{class:"el-icon--left"},{default:y(()=>[b(m(be))]),_:1}),e[0]||(e[0]=w(" 选取文件 ",-1))]),_:1})]),_:1},8,["action","file-list","limit","headers"]),i.value?(r(),g("div",et,[e[3]||(e[3]=w(" 请上传 ",-1)),t.fileSize?(r(),g(S,{key:0},[e[1]||(e[1]=w(" 大小不超过 ",-1)),O("b",tt,_(t.fileSize)+"MB",1)],64)):E("",!0),t.fileType&&t.fileType.length?(r(),g(S,{key:1},[e[2]||(e[2]=w(" 格式为 ",-1)),O("b",nt,_(t.fileType.join("/")),1)],64)):E("",!0),e[4]||(e[4]=w(" 的文件 ",-1))])):E("",!0),b($e,{class:"upload-file-list el-upload-list el-upload-list--text",name:"el-fade-in-linear",tag:"ul"},{default:y(()=>[(r(!0),g(S,null,A(d.value,(n,s)=>(r(),g("li",{key:n.uid||s,class:"el-upload-list__item ele-upload-list__item-content"},[b(m(Z),{href:R(n.url),underline:"never",target:"_blank"},{default:y(()=>[b(m(H),{class:"el-icon--left"},{default:y(()=>[b(m(ke))]),_:1}),O("span",null,_(D(n.name)),1)]),_:2},1032,["href"]),O("div",lt,[b(m(Z),{underline:"never",onClick:v=>P(s),type:"danger"},{default:y(()=>[...e[5]||(e[5]=[w("删除",-1)])]),_:1},8,["onClick"])])]))),128))]),_:1})]))}}),st=W(at,[["__scopeId","data-v-460b97de"]]),ft=Q(st);export{rt as E,ut as a,B as b,ft as c,ct as d,dt as e,j as i};
