import{a4 as fe,o as r,b as k,w as m,r as X,O as E,k as V,al as H,y as $,I as _,aH as ee,b6 as re,K as Q,a5 as pe,b7 as ue,c as g,G as S,H as L,az as de,a as w,t as I,h as G,af as oe,_ as ne,a3 as me,z as le,j as F,J as v,e as U,a2 as ye,Q as ge,n as he,aO as be}from"./framework.CaIPDmh2.js";import{o as ve,E as _e,j as ke,k as we,m as Se,p as Te,a as A,u as xe,l as Ce}from"./theme.e0OnIUUi.js";const Y=(e,f)=>(e.install=n=>{const u=[e];for(const s of u)s.name?n.component(s.name,s):console.warn("Component missing name:",s)},e),$e=e=>typeof e>"u",ze=e=>typeof e=="number",M=e=>typeof e=="string",Ue=Object.assign({inheritAttrs:!1,name:"EasyButton"},{__name:"button",setup(e){const f=$(!1),n=fe(),u=async()=>{try{f.value=!0,H(n.onClick)&&await n.onClick()}finally{f.value=!1}};return(s,b)=>(r(),k(V(_e),E({loading:f.value},V(ve)(V(n),"onClick"),{onClick:u}),{default:m(()=>[X(s.$slots,"default")]),_:3},16,["loading"]))}}),st=Y(Ue);function Ve(){return{getComponent:(f,n)=>{if(f&&!M(f)&&!ze(f))return H(f)?f(n):f;const u=f;let s;return M(u)&&u.startsWith("el-")&&(s=_(u)),s&&!M(s)?s:{name:"DynamicText",props:["modelValue"],render(){if(!n)return ee("span",{},u);const c=this.modelValue===null||this.modelValue===""||this.modelValue===void 0?"--":this.modelValue;return ee("span",{},c)}}}}}const ie=Object.assign({name:"EasyDescriptionsComp"},{__name:"comp",props:ue({id:{type:String,default:""},components:{type:[String,Number,Function,Object],default:""},props:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const f=re(e,"modelValue"),{getComponent:n}=Ve();return(u,s)=>X(u.$slots,e.components,{},()=>[e.id?(r(),k(Q(V(n)(e.components,f.value)),E({key:0,modelValue:f.value[e.id],"onUpdate:modelValue":s[0]||(s[0]=b=>f.value[e.id]=b)},e.props),null,16,["modelValue"])):(r(),k(Q(V(n)(e.components)),pe(E({key:1},e.props)),null,16))])}}),Ee={class:"epl-descriptions"},Oe=Object.assign({name:"EasyDescriptions"},{__name:"descriptions",props:ue({items:{type:Array,default:()=>[]}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:f}){const n=e,u=re(e,"modelValue"),s=c=>c.reduce((p,i)=>((H(i.hidden)?i.hidden(u.value):i.hidden)||p.push({...i,label:oe(i.label)?i.label:{components:i.label},value:oe(i.value)?i.value:{id:i.value,components:i.value}}),p),[]),b=G(()=>!n.items||n.items.length===0?[]:n.items.some(p=>p.items&&Array.isArray(p.items))?n.items.filter(p=>!(H(p.hidden)?p.hidden(u.value):p.hidden)).map(p=>{const{extra:i,items:T,hidden:z,...O}=p;return{...p,rows:s(p.items),bindProps:O}}):[{rows:s(n.items),bindProps:{}}]);return f({}),(c,p)=>(r(),g("div",Ee,[(r(!0),g(S,null,L(b.value,(i,T)=>(r(),k(V(we),E({key:T,ref_for:!0},{...c.$attrs,...i.bindProps},{style:{"margin-bottom":"20px"}}),de({default:m(()=>[(r(!0),g(S,null,L(i.rows,z=>(r(),k(V(ke),E({key:z.label},{ref_for:!0},z),{label:m(()=>[(r(),k(Q(ee(ie,{modelValue:u.value,...z.label},c.$slots))))]),default:m(()=>[(r(),k(Q(ee(ie,{modelValue:u.value,...z.value},c.$slots))))]),_:2},1040))),128))]),_:2},[i.title||c.$slots.title?{name:"title",fn:m(()=>[i.title?(r(),g(S,{key:0},[w(I(i.title),1)],64)):X(c.$slots,"title",{key:1,group:i,index:T})]),key:"0"}:void 0,i.extra||c.$slots.extra?{name:"extra",fn:m(()=>[i.extra?(r(),g(S,{key:0},[w(I(i.extra),1)],64)):X(c.$slots,"extra",{key:1,group:i,index:T})]),key:"1"}:void 0]),1040))),128))]))}}),rt=Y(Oe);Math.easeInOutQuad=function(e,f,n,u){return e/=u/2,e<1?n/2*e*e+f:(e--,-n/2*(e*(e-2)-1)+f)};var je=(function(){return typeof window>"u"?function(e){setTimeout(e,1e3/60)}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}})();function Ae(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function Fe(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function se(e,f,n){const u=Fe(),s=e-u,b=20;let c=0;f=$e(f)?500:f;var p=function(){c+=b;var i=Math.easeInOutQuad(c,u,s,f);Ae(i),c<f&&je(p)};p()}const Ie={class:"table-container"},Me={class:"table"},Ne={key:0},Be=["innerHTML"],De=["innerHTML"],Pe={key:2},Le={class:"operate-group"},Re=Object.assign({name:"EasyTable"},{__name:"table",props:{columns:{type:Array,default:()=>[]},tableData:{type:Array,default:()=>[]},total:{type:Number,default:0},page:{type:Number,default:1},options:{type:Object,default:()=>({stripe:!1,highlightCurrentRow:!1,border:!0})},limit:{type:Number,default:20},pageSizes:{type:Array,default:()=>[10,20,30,50]},pagerCount:{type:Number,default:()=>typeof document<"u"&&document.body.clientWidth<992?5:7},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1},operates:{type:Object,default:()=>({list:[]})},paginationPosition:{type:String,default:"right"}},emits:["update:page","update:limit","pagination","sortChange","handleSelectionChange"],setup(e,{expose:f,emit:n}){const u=e,s=n,b=me(),c=$(null),p=$([]);le(()=>[u.columns,b],()=>{p.value=u.columns.map(d=>{const a={...d};return a.key||(a.key=a.prop),Object.keys(b).forEach(t=>{const l=t.match(/^(\S+)-(\S+)/);l&&l[2]===a.key&&(a.slot={...a.slot,[l[1]]:l[0]})}),a})},{immediate:!0,deep:!0});const i=d=>{const a=d?.label?.length||0;return Math.max(a*20,100)},T=d=>H(d.show)?d.show():d.show!==!1,z=(d,a)=>H(d.render)?d.render(a):d.render,O=d=>{const a=(u.operates?.list||[]).filter(t=>H(t.show)?t.show(d):t.show!==!1);return a.length>3?{outside:a.slice(0,2),inside:a.slice(2)}:{outside:a,inside:[]}},j=G({get:()=>u.page,set:d=>s("update:page",d)}),B=G({get:()=>u.limit,set:d=>s("update:limit",d)}),J=G(()=>({left:"flex-start",center:"center",right:"flex-end"})[u.paginationPosition]||"flex-end"),K=d=>{j.value*d>u.total&&(j.value=1),s("pagination",{page:j.value,limit:d}),u.autoScroll&&se(0,800)},D=d=>{s("pagination",{page:d,limit:B.value}),u.autoScroll&&se(0,800)},N=d=>s("sortChange",d),W=d=>s("handleSelectionChange",d);return f({iTableRef:c}),(d,a)=>{const t=_("el-table-column"),l=_("el-icon"),o=_("el-button"),h=_("el-dropdown-item"),q=_("el-dropdown-menu"),P=_("el-dropdown"),Z=_("el-table"),ae=_("el-pagination");return r(),g("div",Ie,[F("div",Me,[v(Z,E({id:"iTable",ref_key:"iTableRef",ref:c,data:e.tableData},e.options,{height:"100%",style:{width:"100%"},onSortChange:N,onSelectionChange:W}),{default:m(()=>[(r(!0),g(S,null,L(p.value,(y,x)=>(r(),g(S,{key:x+(y.prop||"")},[T(y)?(r(),k(t,E({key:0,"min-width":i(y)},{ref_for:!0},y),de({_:2},[L(y.slot,(C,te)=>({name:te,fn:m(ce=>[X(d.$slots,C,E({ref_for:!0},ce),void 0,!0)])})),y.slot?void 0:{name:"default",fn:m(C=>[y.render?(r(),g(S,{key:0},[V(M)(z(y,C))?(r(),g("div",Ne,[F("div",{innerHTML:z(y,C)},null,8,Be)])):(r(),k(Q(y.render),E({key:1,ref_for:!0},C,{row:C.row,index:C.$index}),null,16,["row","index"]))],64)):y.formatter?(r(),g("span",{key:1,innerHTML:y.formatter(C.row,y)},null,8,De)):y.type?U("",!0):(r(),g("span",Pe,I(C.row[y.prop]??"--"),1))]),key:"0"}]),1040,["min-width"])):U("",!0)],64))),128)),e.operates.list?.length?(r(),k(t,{key:0,label:"操作",align:"left",width:e.operates.width,fixed:e.operates.fixed},{default:m(y=>[F("div",Le,[(r(!0),g(S,null,L(O(y.row).outside,(x,C)=>(r(),k(o,E({key:C,ref_for:!0},x,{type:x.type||"primary",size:x.size||"small",onClick:ye(te=>x.method(y.row,y.$index),["stop"])}),{default:m(()=>[w(I(x.label)+" ",1),x.icon?(r(),k(l,{key:0,class:"el-icon--right"},{default:m(()=>[(r(),k(Q(x.icon)))]),_:2},1024)):U("",!0)]),_:2},1040,["type","size","onClick"]))),128)),O(y.row).inside.length?(r(),k(P,{key:0,class:"custom-dropdown",trigger:"click"},{dropdown:m(()=>[v(q,null,{default:m(()=>[(r(!0),g(S,null,L(O(y.row).inside,(x,C)=>(r(),k(h,E({key:C},{ref_for:!0},x,{onClick:te=>x.method(y.row,y.$index)}),{default:m(()=>[w(I(x.label),1)]),_:2},1040,["onClick"]))),128))]),_:2},1024)]),default:m(()=>[v(o,{link:"",size:"small",class:"custom-text"},{default:m(()=>[v(l,{size:18},{default:m(()=>[v(V(Se))]),_:1})]),_:1})]),_:2},1024)):U("",!0)])]),_:1},8,["width","fixed"])):U("",!0)]),_:3},16,["data"])]),e.hidden?U("",!0):(r(),g("div",{key:0,class:"pagination-container",style:ge({justifyContent:J.value})},[v(ae,{"current-page":j.value,"onUpdate:currentPage":a[0]||(a[0]=y=>j.value=y),"page-size":B.value,"onUpdate:pageSize":a[1]||(a[1]=y=>B.value=y),background:e.background,layout:e.layout,"page-sizes":e.pageSizes,"pager-count":e.pagerCount,total:e.total,onSizeChange:K,onCurrentChange:D},null,8,["current-page","page-size","background","layout","page-sizes","pager-count","total"])],4))])}}}),He=ne(Re,[["__scopeId","data-v-8cdf3800"]]),ut=Y(He),R="update:modelValue",qe={class:"component-upload-image"},Ge={key:0,class:"el-upload__tip"},Qe={style:{color:"#f56c6c"}},Je={style:{color:"#f56c6c"}},Ke=["src"],We=Object.assign({name:"EasyImageUpload"},{__name:"ImageUpload",props:{modelValue:[String,Object,Array],limit:{type:Number,default:5},fileSize:{type:Number,default:5},fileType:{type:Array,default:()=>["png","jpg","jpeg"]},isShowTip:{type:Boolean,default:!0},action:{type:String,required:!0},headers:{type:Object,default:()=>({})},baseUrl:{type:String,default:""},checkSuccess:{type:Function,default:e=>e.code===200||e.success===!0},responsePath:{type:String,default:"data"},errorField:{type:String,default:"msg"}},emits:[R],setup(e,{emit:f}){const n=e,u=f,s=$(0),b=$([]),c=$(""),p=$(!1),i=$([]),T=$(null),z=G(()=>n.isShowTip&&(n.fileType||n.fileSize)),O=(t,l)=>l?l.split(".").reduce((o,h)=>o&&o[h]!==void 0?o[h]:void 0,t):t;le(()=>n.modelValue,t=>{if(t){const l=Array.isArray(t)?t:t.split(",");i.value=l.map(o=>{if(M(o)){let h=o;!/^https?:\/\//.test(h)&&n.baseUrl&&(h=n.baseUrl+o),o={name:d(o),url:h}}return o})}else i.value=[]},{deep:!0,immediate:!0});function j(t){let l=!1;if(n.fileType.length){const o=t.name.slice(t.name.lastIndexOf(".")+1).toLowerCase();l=n.fileType.map(h=>h.toLowerCase()).includes(o)}else l=t.type.indexOf("image")>-1;return l?n.fileSize&&t.size/1024/1024>n.fileSize?(A.error(`大小不能超过 ${n.fileSize} MB!`),!1):(s.value++,!0):(A.error(`格式不正确, 请上传${n.fileType.join("/")}图片!`),!1)}function B(){A.error(`上传数量不能超过 ${n.limit} 个!`)}function J(t,l){if(n.checkSuccess(t)){const o=O(t,n.responsePath);o?(b.value.push({name:d(o),url:o}),D()):N(`无法从响应中解析图片路径: ${n.responsePath}`)}else{s.value--;const o=O(t,n.errorField)||"上传失败";A.error(o),T.value.handleRemove(l),D()}}function K(t){const l=i.value.findIndex(o=>o.name===t.name);l>-1&&(i.value.splice(l,1),u(R,a(i.value)))}function D(){s.value>0&&b.value.length===s.value&&(i.value=i.value.filter(t=>t.url!==void 0).concat(b.value),b.value=[],s.value=0,u(R,a(i.value)))}function N(t){A.error(M(t)?t:"上传图片失败"),s.value--}function W(t){c.value=t.url,p.value=!0}function d(t){return M(t)?t.slice(t.lastIndexOf("/")+1):""}function a(t,l=","){return t.filter(o=>o.url&&o.url.indexOf("blob:")!==0).map(o=>{let h=o.url;return n.baseUrl&&h.indexOf(n.baseUrl)===0&&(h=h.replace(n.baseUrl,"")),h}).join(l)}return(t,l)=>{const o=_("el-icon"),h=_("el-upload"),q=_("el-dialog");return r(),g("div",qe,[v(h,{ref_key:"imageUploadRef",ref:T,multiple:"",action:e.action,"list-type":"picture-card","on-success":J,"before-upload":j,limit:e.limit,"on-error":N,"on-exceed":B,"on-remove":K,"show-file-list":!0,headers:e.headers,"file-list":i.value,"on-preview":W,class:he({hide:i.value.length>=e.limit})},{default:m(()=>[v(o,{class:"avatar-uploader-icon"},{default:m(()=>[v(V(Te))]),_:1})]),_:1},8,["action","limit","headers","file-list","class"]),z.value?(r(),g("div",Ge,[l[3]||(l[3]=w(" 请上传 ",-1)),e.fileSize?(r(),g(S,{key:0},[l[1]||(l[1]=w(" 大小不超过 ",-1)),F("b",Qe,I(e.fileSize)+"MB",1)],64)):U("",!0),e.fileType?(r(),g(S,{key:1},[l[2]||(l[2]=w(" 格式为 ",-1)),F("b",Je,I(e.fileType.join("/")),1)],64)):U("",!0),l[4]||(l[4]=w(" 的文件 ",-1))])):U("",!0),v(q,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=P=>p.value=P),title:"预览",width:"800px","append-to-body":""},{default:m(()=>[F("img",{src:c.value,style:{display:"block","max-width":"100%",margin:"0 auto"}},null,8,Ke)]),_:1},8,["modelValue"])])}}}),Xe=ne(We,[["__scopeId","data-v-050e1680"]]),dt=Y(Xe),Ye={class:"component-upload-file"},Ze={key:0,class:"el-upload__tip"},et={style:{color:"#f56c6c"}},tt={style:{color:"#f56c6c"}},nt={class:"ele-upload-list__item-content-action"},lt=Object.assign({name:"EasyFileUpload"},{__name:"FileUpload",props:{modelValue:[String,Object,Array],limit:{type:Number,default:5},fileSize:{type:Number,default:5},fileType:{type:Array,default:()=>["doc","xls","ppt","txt","pdf"]},isShowTip:{type:Boolean,default:!0},action:{type:String,required:!0},headers:{type:Object,default:()=>({})},baseUrl:{type:String,default:""},checkSuccess:{type:Function,default:e=>e.code===200||e.success===!0},responsePath:{type:String,default:"data"},errorField:{type:String,default:"msg"}},emits:[R],setup(e,{emit:f}){const n=e,u=f,s=$(0),b=$([]),c=$([]),p=$(null),i=G(()=>n.isShowTip&&(n.fileType||n.fileSize)),T=(a,t)=>t?t.split(".").reduce((l,o)=>l&&l[o]!==void 0?l[o]:void 0,a):a;le(()=>n.modelValue,a=>{if(a){const t=Array.isArray(a)?a:a.split(",");c.value=t.map((l,o)=>(M(l)&&(l={name:N(l),url:l,uid:new Date().getTime()+o}),l))}else c.value=[]},{deep:!0,immediate:!0});function z(a){if(n.fileType&&n.fileType.length){const t=a.name.split("."),l=t[t.length-1].toLowerCase();if(!n.fileType.map(h=>h.toLowerCase()).includes(l))return A.error(`文件格式不正确, 请上传${n.fileType.join("/")}格式文件!`),!1}return n.fileSize&&a.size/1024/1024>n.fileSize?(A.error(`上传文件大小不能超过 ${n.fileSize} MB!`),!1):(s.value++,!0)}function O(){A.error(`上传文件数量不能超过 ${n.limit} 个!`)}function j(a){s.value--,A.error(M(a)?a:"上传文件失败")}function B(a,t){if(n.checkSuccess(a)){const l=T(a,n.responsePath);l?(b.value.push({name:N(l),url:l,uid:t.uid}),D()):j(`无法从响应中解析文件路径: ${n.responsePath}`)}else{s.value--;const l=T(a,n.errorField)||"上传失败";A.error(l),p.value?.handleRemove(t),D()}}function J(a){c.value.splice(a,1),u(R,d(c.value))}function K(a){const t=c.value.findIndex(l=>l.uid===a.uid);t>-1&&(c.value.splice(t,1),u(R,d(c.value)))}function D(){s.value>0&&b.value.length===s.value&&(c.value=c.value.filter(a=>a.url!==void 0).concat(b.value),b.value=[],s.value=0,u(R,d(c.value)))}function N(a){return M(a)?a.slice(a.lastIndexOf("/")+1):""}function W(a){return a?/^https?:\/\//.test(a)?a:n.baseUrl?n.baseUrl+a:a:""}function d(a,t=","){return a.filter(l=>l.url&&l.url.indexOf("blob:")!==0).map(l=>{let o=l.url;return n.baseUrl&&o.indexOf(n.baseUrl)===0&&(o=o.replace(n.baseUrl,"")),o}).join(t)}return(a,t)=>{const l=_("el-icon"),o=_("el-button"),h=_("el-upload"),q=_("el-link");return r(),g("div",Ye,[v(h,{ref_key:"fileUploadRef",ref:p,multiple:"",action:e.action,"before-upload":z,"file-list":c.value,limit:e.limit,"on-error":j,"on-exceed":O,"on-success":B,"on-remove":K,"show-file-list":!1,headers:e.headers,class:"upload-file-uploader"},{default:m(()=>[v(o,{type:"primary"},{default:m(()=>[v(l,{class:"el-icon--left"},{default:m(()=>[v(V(xe))]),_:1}),t[0]||(t[0]=w(" 选取文件 ",-1))]),_:1})]),_:1},8,["action","file-list","limit","headers"]),i.value?(r(),g("div",Ze,[t[3]||(t[3]=w(" 请上传 ",-1)),e.fileSize?(r(),g(S,{key:0},[t[1]||(t[1]=w(" 大小不超过 ",-1)),F("b",et,I(e.fileSize)+"MB",1)],64)):U("",!0),e.fileType&&e.fileType.length?(r(),g(S,{key:1},[t[2]||(t[2]=w(" 格式为 ",-1)),F("b",tt,I(e.fileType.join("/")),1)],64)):U("",!0),t[4]||(t[4]=w(" 的文件 ",-1))])):U("",!0),v(be,{class:"upload-file-list el-upload-list el-upload-list--text",name:"el-fade-in-linear",tag:"ul"},{default:m(()=>[(r(!0),g(S,null,L(c.value,(P,Z)=>(r(),g("li",{key:P.uid||Z,class:"el-upload-list__item ele-upload-list__item-content"},[v(q,{href:W(P.url),underline:"never",target:"_blank"},{default:m(()=>[v(l,{class:"el-icon--left"},{default:m(()=>[v(V(Ce))]),_:1}),F("span",null,I(N(P.name)),1)]),_:2},1032,["href"]),F("div",nt,[v(q,{underline:"never",onClick:ae=>J(Z),type:"danger"},{default:m(()=>[...t[5]||(t[5]=[w("删除",-1)])]),_:1},8,["onClick"])])]))),128))]),_:1})])}}}),at=ne(lt,[["__scopeId","data-v-0eefb5f8"]]),ct=Y(at);export{st as E,rt as a,ct as b,dt as c,ut as d,M as i};
